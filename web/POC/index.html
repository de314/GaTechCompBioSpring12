<html>
<head>

	<!--    JQuery    -->
	<script type="text/javascript" src="js/jquery-1.7.1.min.js"></script>
	<script type="text/javascript" src="js/jquery-ui-1.8.18.custom.min.js"></script>
	<link rel="stylesheet" type="text/css" href="css/ui-lightness/jquery-ui-1.8.18.custom.css" media="all" />
    
    
	<!--    Drag and Drop    -->
    <link rel="stylesheet" type="text/css" href="css/demo.css" media="all" />
     
    <!--
    <script type="text/javascript" src="js/jquery.drag_drop_multi_select_alpha.js"></script>
    <script type="text/javascript" src="js/jquery.jcss_align.js"></script>
	<script type="text/javascript" src="js/ajaxfileupload.min.js"></script>
    <script type="text/javascript" src="js/math-utils.js"></script>
    -->
    
    <script type="text/javascript" src="js/utils.min.js"></script>
    <script type="text/javascript" src="js/main.min.js"></script>
	
	    
	<!--    P-TAME    -->
    <!-- -->
    <script type="text/javascript" src="js/d3/d3.v2.min.js"></script>
	<script type="text/javascript" src="js/drag-n-drop.js"></script>
    <script type="text/javascript" src="js/graph-front.js"></script>
    <script type="text/javascript" src="js/comparative-front.js"></script>
    <script type="text/javascript" src="js/training-front.js"></script>
    <script type="text/javascript" src="js/compbio.js"></script>
    <script type="text/javascript" src="js/compbio_objects.js"></script>
    <script type="text/javascript" src="js/compbio_expectations.js"></script>
    <script type="text/javascript">
	    var uploadHelp = 0;
	    var editHelp = 0;
    	$(document).ready(function() {
    		$('#uploadHelp').hide();
    		$('#editHelp').hide();
    		$('#titleSet').hide();
    		$('#colorSet').hide();
    		$('#buttonUpload').hide();
    	})
    </script>
    <!-- 
    <script type="text/javascript" src="js/compbio_min.js"></script>
    -->

</head>
<body>

<!-- -->
<div id="tabs" style="overflow: hidden;">
	<ul>
		<li><a href="#tabs-1">Training</a></li>
		<li><a href="#tabs-2">Visual Results</a></li>
		<li><a href="#tabs-3">Raw Results</a></li>
		<li><a href="#tabs-4">Why</a></li>
		<li><a href="#tabs-5">Help</a></li>
	</ul>
<div id="tabs-1" style="height:100%;">
<!-- -->
  <div style="float:left;width:250px;border:1px solid #000;padding:15px;">
  	<form name="form1" action="" method="POST" enctype="multipart/form-data">
		<p>
			<b>Step 1: Upload Files</b>&nbsp;&nbsp;&nbsp;
			<a id="uploadHelpLink" onclick="$('#uploadHelp').toggle(750);$('#uploadHelpLink').html(uploadHelp?'more...':'less...');uploadHelp=!uploadHelp;console.debug(this);">more...</a>
			
			<br /><br />
			
			<span id="uploadHelp">
				RNA files can be found <a href="">here</a>. Supported files formats include 
				CT files. Structure with pseudo knots are considered invalid. Zip files can be used
				to upload multiple files. Please zip multiple *.ct files to upload then as a new 
				training set. To upload multiple training sets, place each training set in a seperate
				directory. Zip all the directories in a single file to upload multiple training sets. 
				File extensions MUST match: "*.ct" or "*.zip"
			</span>
		</p>
		<p><input id="uploaded_file" name="uploaded_file" onChange="if($('#uploaded_file').val()!=''){$('#buttonUpload').show();}else{$('#buttonUpload').hide();}" type="file" /></p> 
		<p><button class="button" id="buttonUpload" onclick="return upload_file();">Upload</button></p>
	</form>
	
	<p>
		<b>Step 2: Edit Training Sets</b>&nbsp;&nbsp;&nbsp;
		<a id="editHelpLink" onclick="$('#editHelp').toggle(750);$('#editHelpLink').html(editHelp?'more...':'less...');editHelp=!editHelp;">more...</a>
		
		<br /><br />
		
		<span id="editHelp">
			Once training sets are uploaded they can be selected by clicking on their title.
			A selected training set will have a bold black boarder. To unselect the training set,
			select another training set or click on the selected title again. Once a set is selected
			a number of options will apear in the menu. The training set name and color can be changed.
			These customizations will be used to facilitate interpretation of results.
				<br />&nbsp;<br />
			Sequences can be moved from training set on at a time or in groups. Just select the sequence(s) 
			to move by clicking it or dragging a box over it and once the sequence's background is light
			gray, it may be added to another set by dropping it on a set's title. Duplicate copies of a
			sequence will always be treated as multiple sequences.
				<br />&nbsp;<br />
			Any training set can be deleted by clicking the red <b style="color:red;">X</b> in the top
			right corner. Deleting a set cannot be undone.
		</span>
	</p>
	
	<p id="titleSet">
		Set Training Set Name: &nbsp; <input type="text" id="newTitle" />
		<button class="button" onclick="setTitle();" >Change Name</button>
	</p>
    <p id="colorSet">
      	Colors:
        <table style="cell-spacing:5px;width:100%;" border="1px">
          <tr>
            <td style="background-color:#F00" onclick="setColor(this)">&nbsp;</td>
            <td style="background-color:#0F0" onclick="setColor(this)">&nbsp;</td>
            <td style="background-color:#00F" onclick="setColor(this)">&nbsp;</td>
          </tr>
          <tr>
            <td style="background-color:#FF0" onclick="setColor(this)">&nbsp;</td>
            <td style="background-color:#0FF" onclick="setColor(this)">&nbsp;</td>
            <td style="background-color:#F0F" onclick="setColor(this)">&nbsp;</td>
          </tr>
        </table>
    </p>
    <p>
      <button class="button" onclick="train_grammars();">Train Uploaded Training Sets</button>
    </p>
    <hr />
    <p>
		<a href="other/SampleSequences.tar.gz">Download Sample Sequences</a>
    </p>
  </div>
  <div id="drag_drop" class="demo" style="float:left;width:750px;border:1px solid #000;">
        <div class="container" style="overflow:hidden;">
        
        	<!--    LISTS    -->
        
            <div id="bottomClearDiv" class="clear"></div>
        </div>
        <div class="Sequences_selected"></div>
    </div>
    <div id="bottomClearDiv" style="clear:both;" class="clear">&nbsp;<br /></div>
</div>

<!-- Visual Results -->
<div id="tabs-2">
	<select onchange="updateCompFront();" style="float:left" id="Yax">
		<option value="S-&gt;LS">S-&gt;LS</option>
		<option value="S-&gt;L">S-&gt;L</option>
		<option value="L-&gt;t">L-&gt;t</option>
		<option value="L-&gt;dFd">L-&gt;dFd</option>
		<option value="F-&gt;dFd">F-&gt;dFd</option>
		<option value="F-&gt;LS">F-&gt;LS</option>
		<option value="Dist. A">Dist. A</option>
		<option value="Dist. C">Dist. C</option>
		<option value="Dist. G">Dist. G</option>
		<option value="Dist. U">Dist. U</option>
		<option value="Un-Matched A">Un-Matched A</option>
		<option value="Un-Matched C">Un-Matched C</option>
		<option value="Un-Matched G">Un-Matched G</option>
		<option value="Un-Matched U">Un-Matched U</option>
		<option value="BP AA">BP AA</option>
		<option value="BP AC">BP AC</option>
		<option value="BP AG">BP AG</option>
		<option value="BP AU">BP AU</option>
		<option value="BP CA">BP CA</option>
		<option value="BP CC">BP CC</option>
		<option value="BP CG">BP CG</option>
		<option value="BP CU">BP CU</option>
		<option value="BP GA">BP GA</option>
		<option value="BP GC">BP GC</option>
		<option value="BP GG">BP GG</option>
		<option value="BP GU">BP GU</option>
		<option value="BP UA">BP UA</option>
		<option value="BP UC">BP UC</option>
		<option value="BP UG">BP UG</option>
		<option value="BP UU">BP UU</option>
	</select>
	<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="600px" height="400px">
	  <rect width="100%" height="100%" stroke="black" stroke-width="2" fill="#FFF" />
	  <text x="40%" y="15" id="ChartTitle">Title</text>
	</svg>
	<p style="width:400px;">
		<select onchange="updateCompFront();;" style="float:right;" id="Xax">
		<option value="S-&gt;LS">S-&gt;LS</option>
		<option value="S-&gt;L">S-&gt;L</option>
		<option value="L-&gt;t">L-&gt;t</option>
		<option value="L-&gt;dFd">L-&gt;dFd</option>
		<option value="F-&gt;dFd">F-&gt;dFd</option>
		<option value="F-&gt;LS">F-&gt;LS</option>
		<option value="Dist. A">Dist. A</option>
		<option value="Dist. C">Dist. C</option>
		<option value="Dist. G">Dist. G</option>
		<option value="Dist. U">Dist. U</option>
		<option value="Un-Matched A">Un-Matched A</option>
		<option value="Un-Matched C">Un-Matched C</option>
		<option value="Un-Matched G">Un-Matched G</option>
		<option value="Un-Matched U">Un-Matched U</option>
		<option value="BP AA">BP AA</option>
		<option value="BP AC">BP AC</option>
		<option value="BP AG">BP AG</option>
		<option value="BP AU">BP AU</option>
		<option value="BP CA">BP CA</option>
		<option value="BP CC">BP CC</option>
		<option value="BP CG">BP CG</option>
		<option value="BP CU">BP CU</option>
		<option value="BP GA">BP GA</option>
		<option value="BP GC">BP GC</option>
		<option value="BP GG">BP GG</option>
		<option value="BP GU">BP GU</option>
		<option value="BP UA">BP UA</option>
		<option value="BP UC">BP UC</option>
		<option value="BP UG">BP UG</option>
		<option value="BP UU">BP UU</option>
		</select>
	</p>
    <div id="bottomClearDiv" style="clear:both;" class="clear">&nbsp;<br /></div>
    <table cellspacing="20px">
    	<tr>
    		<td>
    			<span id="smgLock0" class="ui-icon ui-icon-unlocked" style="float:right;" onclick='smgList[0].tog();'></span>
    			<span class="ui-icon ui-icon-arrowthick-2-n-s" style="float:right;" onclick='smgList[0].maximize();'></span>
    			<div id="smgTitle0">&nbsp;</div>
    			<div id="smgSVG0">
					<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="200px" height="160px">
					  <rect width="100%" height="100%" stroke="black" stroke-width="2" fill="#FFF" />
					</svg>
    			</div>
    		</td><td>
    			<span id="smgLock1" class="ui-icon ui-icon-unlocked" style="float:right;" onclick='smgList[1].tog();'></span>
    			<span class="ui-icon ui-icon-arrowthick-2-n-s" style="float:right;" onclick='smgList[1].maximize();'></span>
    			<div id="smgTitle1">&nbsp;</div>
    			<div id="smgSVG1">
					<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="200px" height="160px">
					  <rect width="100%" height="100%" stroke="black" stroke-width="2" fill="#FFF" />
					</svg>
    			</div>
    		</td><td>
    			<span id="smgLock2" class="ui-icon ui-icon-unlocked" style="float:right;" onclick='smgList[2].tog();'></span>
    			<span class="ui-icon ui-icon-arrowthick-2-n-s" style="float:right;" onclick='smgList[2].maximize();'></span>
    			<div id="smgTitle2">&nbsp;</div>
    			<div id="smgSVG2">
					<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="200px" height="160px">
					  <rect width="100%" height="100%" stroke="black" stroke-width="2" fill="#FFF" />
					</svg>
    			</div>
    		</td>
    	</tr>
    </table>
</div>
<!-- -->

<!-- Raw Results -->
<div id="tabs-3">
	<p id="resultsText">Train the grammars to see results here</p>
</div>
<!-- -->

<!-- Why -->
<div id="tabs-4">
	<p>Coming Soon...</p>
</div>
<!-- -->

<!-- Help -->
<div id="tabs-5">
	<div style="width:500px;">
		<h3>Contact:</h3>
		<p>
			David Esposito<br />
			desposito6[at]gatech[dot]edu<br />
			404.444.2215<br />
			Computer Science 2011<br />
			Discrete Mathematics<br />
			Georgia Institute of Technology
		</p>
		<hr />
		<p>
		<b>NOTE:</b> This help section assumes you familiarity with RNA secondary structure and only exists
		to aid in efficient use of this web application.
		</p>
		<h3>Uploading Files:</h3>
		<p>Coming Soon...</p>
	</div>
</div>
<!-- -->

</div>

</body></html>
